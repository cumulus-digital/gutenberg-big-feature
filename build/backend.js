!function(){"use strict";var e=window.wp.element;function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,l=new Array(t);r<t;r++)l[r]=e[r];return l}function r(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l,a,n=[],_n=!0,i=!1;try{for(r=r.call(e);!(_n=(l=r.next()).done)&&(n.push(l.value),!t||n.length!==t);_n=!0);}catch(e){i=!0,a=e}finally{try{_n||null==r.return||r.return()}finally{if(i)throw a}}return n}}(e,r)||function(e,r){if(e){if("string"==typeof e)return t(e,r);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?t(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=window.lodash,a=wp.blocks.registerBlockType,n=wp.components,i=n.Panel,u=n.PanelBody,o=n.PanelRow,c=n.ToolbarGroup,s=n.ToolbarButton,m=n.Flex,g=n.Button,d=n.TextControl,b=n.Dropdown,p=n.Icon,f=wp.blockEditor,h=f.useBlockProps,E=f.BlockControls,w=f.MediaReplaceFlow,k=f.MediaPlaceholder,v=f.MediaUpload,A=f.MediaUploadCheck,y=f.__experimentalLinkControl,C=f.InspectorControls,B=wp.element.useState,T=function(e){return e.replace(/^https?:\/\//i,"").replace(window.location.host,"")},I=function(t){return t.href?(0,e.createElement)("a",{href:t.href,target:t.linkTarget,rel:t.rel},t.children):(0,e.createElement)(e.Fragment,null,t.children)},N=a("cumulus-gutenberg/big-feature-square",{apiVersion:2,title:"Big Feature Square",description:"Image square for a box within a Big Feature",keywords:["feature","box","image"],icon:{src:"format-image",foreground:"#00588d"},parent:["cumulus-gutenberg/big-feature-column","cumulus-gutenberg/big-feature-small-cluster","cumulus-gutenberg/big-feature"],supports:{html:!1,anchor:!1,alignWide:!1,customClassName:!1,align:!1,spacing:{padding:!1}},attributes:{mediaUrl:{type:"string",source:"attribute",selector:"img",attribute:"src",default:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},alt:{type:"string",source:"attribute",selector:"img",attribute:"alt",default:""},href:{type:"string",source:"attribute",selector:"a",attribute:"href"},linkTarget:{type:"string",source:"attribute",selector:"a",attribute:"target"},rel:{type:"string",source:"attribute",selector:"a",attribute:"rel"}},edit:function(t){t.className;var a=t.attributes,n=t.setAttributes,f=(0,e.createElement)(p,{icon:"warning",style:{color:"red"}}),I=r(B(!1),2),U=(I[0],I[1],r(B(!1),2)),S=(U[0],U[1],h()),x=function(e){var t=(0,l.get)(e,["sizes","full","url"])||(0,l.get)(e,["media_details","sizes","full","source_url"]),r=(0,l.get)(e,["alt"]),a={mediaUrl:T(t||e.url)};r&&(a.alt=r),n(a)},F=function(e){return a[e]&&a[e]!==N.attributes[e].default},P=(0,e.createElement)(d,{label:"Image Alt Attribute",help:(0,e.createElement)(e.Fragment,null,!a.alt&&(0,e.createElement)("strong",{style:{color:"red",textDecoration:"underline"}},"Alt attributes are important for SEO and accessibility!"),(0,e.createElement)(e.Fragment,null," "),"This should be the name of the show you're featuring or some other short, text interpretation of the image/link."),value:a.alt,onChange:function(e){n({alt:e})}}),L=(0,e.createElement)(y,{searchInputPlaceholder:"Search here...",value:{url:a.href,title:a.alt,opensInNewTab:"_blank"===a.linkTarget,useTitleAsAlt:!0},settings:[{id:"opensInNewTab",title:"New tab?"},{id:"useTitleAsAlt",title:"Use Post title as alt attribute?"}],onChange:function(e){n({href:T(e.url),alt:e.useTitleAsAlt?e.title:a.alt,linkTarget:e.opensInNewTab?"_blank":"_self",rel:e.opensInNewTab?"noopener":""})}});return(0,e.createElement)("li",S,(0,e.createElement)(E,null,F("mediaUrl")&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(c,null,(0,e.createElement)(w,{mediaId:a.mediaId,mediaURL:a.mediaUrl,allowedTypes:["image"],accept:"image/*",onSelect:x})),!a.alt&&(0,e.createElement)(c,null,(0,e.createElement)(b,{headerTitle:"Alt Attribute",contentClassName:"is-alternate",renderToggle:function(t){var r=t.isOpen,l=t.onToggle;return(0,e.createElement)(s,{icon:f,label:"Set an alt attribute!",showTooltip:!0,"aria-expanded":r,onClick:l})},renderContent:function(){return(0,e.createElement)("div",{style:{minWidth:"250px"}},P)}})),(0,e.createElement)(c,null,(0,e.createElement)(b,{headerTitle:"Link",renderToggle:function(t){var r=t.isOpen,l=t.onToggle;return(0,e.createElement)(s,{icon:"admin-links",label:"Set a link",showTooltip:!0,"aria-expanded":r,onClick:l})},renderContent:function(){return L}})))),(0,e.createElement)(C,null,(0,e.createElement)(i,null,(0,e.createElement)(u,{title:"Image Settings"},F("mediaUrl")&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(o,null,(0,e.createElement)("img",{src:a.mediaUrl,width:"100%"})),(0,e.createElement)(o,null,(0,e.createElement)(A,null,(0,e.createElement)(v,{Label:"Square Image",type:"image",value:a.mediaUrl,render:function(t){var r=t.open;return(0,e.createElement)(m,null,(0,e.createElement)(g,{className:"button button-large",onClick:r},F("mediaUrl")?"Replace Image":"Choose Image"),F("mediaUrl")&&(0,e.createElement)(g,{className:"button button-large",onClick:function(){var e={};for(var t in N.attributes)e[t]=N.attributes[t].default;n(e)}},"Remove"))},onSelect:x}))),(0,e.createElement)(o,{style:{display:"block"}},P)),!F("mediaUrl")&&(0,e.createElement)(k,{icon:"format-image",accept:"image/*",allowedTypes:["image"],onSelect:x})))),F("mediaUrl")?(0,e.createElement)("img",{src:a.mediaUrl,alt:a.alt}):(0,e.createElement)(A,null,(0,e.createElement)(v,{Label:"Square Image",type:"image",value:a.mediaUrl,render:function(t){var r=t.open;return(0,e.createElement)("img",{className:"g-bf-placeholder",src:a.mediaUrl,alt:"Click to add an image!",title:"Click to add an image!",onClick:r,style:{cursor:"pointer"}})},onSelect:x})))},save:function(t){var r=t.attributes,l=h.save();return r.mediaUrl&&r.mediaUrl!==N.attributes.mediaUrl.default?(0,e.createElement)("li",l,(0,e.createElement)(I,r,(0,e.createElement)("img",{src:r.mediaUrl,alt:r.alt}))):(0,e.createElement)("li",l)}}),U=wp.blocks.registerBlockType,S=wp.blockEditor,x=S.InnerBlocks,F=S.useBlockProps,P=S.useInnerBlocksProps;U("cumulus-gutenberg/big-feature-small-cluster",{apiVersion:2,title:"Big Feature Small Cluster",description:"Cluster of small boxes for a column within a Big Feature",keywords:["feature","box"],icon:{src:"columns",foreground:"#00588d"},parent:["cumulus-gutenberg/big-feature-column"],supports:{html:!1,anchor:!1,alignWide:!1,customClassName:!1,align:!1,spacing:{padding:!1}},edit:function(t){var r=F({className:"g-bf-cluster"}),l=P({},{orientation:"horizontal",template:[["cumulus-gutenberg/big-feature-square",{className:"g-bf-small"}],["cumulus-gutenberg/big-feature-square",{className:"g-bf-small"}]],templateLock:"insert"});return(0,e.createElement)("li",r,(0,e.createElement)("ul",null,l.children))},save:function(t){var r=F.save({className:"g-bf-cluster"});return(0,e.createElement)("li",r,(0,e.createElement)("ul",null,(0,e.createElement)(x.Content,null)))}});var L=wp.blocks.registerBlockType,z=wp.blockEditor,q=z.InnerBlocks,O=z.useBlockProps,R=z.useInnerBlocksProps;L("cumulus-gutenberg/big-feature-column",{apiVersion:2,title:"Big Feature Column",description:"Column within a Big Feature",keywords:["feature","box"],icon:{src:"columns",foreground:"#00588d"},parent:["cumulus-gutenberg/big-feature"],supports:{html:!1,anchor:!1,alignWide:!1,customClassName:!1,align:!1,spacing:{padding:!1}},edit:function(t){var r=O({className:"g-bf-container"}),l=R({title:"Big Feature Column"},{template:[["cumulus-gutenberg/big-feature-square",{className:"g-bf-big"}],["cumulus-gutenberg/big-feature-small-cluster",{}]],templateLock:"insert"});return(0,e.createElement)("ul",r,l.children)},save:function(t){var r=O.save({className:"g-bf-container"});return(0,e.createElement)("ul",r,(0,e.createElement)(q.Content,null))}});var _={};_.cumulus=(0,e.createElement)("svg",{className:"custom-icon custom-icon-cumulus",enableBackground:"new 0 0 645.28 645.45",viewBox:"0 0 645.28 645.45",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"m543.62 329.45c-3.21 19.07-19.75 33.62-39.74 33.62-22.28 0-40.34-18.06-40.34-40.34s18.06-40.34 40.34-40.34c19.98 0 36.53 14.54 39.74 33.62h101.66c-3.59-175.13-146.57-316.01-322.56-316.01-178.23 0-322.72 144.49-322.72 322.72 0 178.24 144.49 322.72 322.72 322.72 175.98 0 318.96-140.88 322.55-316h-101.65zm-220.9 235.32c-133.68 0-242.04-108.37-242.04-242.04s108.37-242.05 242.04-242.05c77.12 0 145.76 36.11 190.09 92.3l-86.74 86.74c-21.26-34.79-59.58-58.02-103.34-58.02-66.84 0-121.02 54.18-121.02 121.02s54.18 121.02 121.02 121.02c43.76 0 82.09-23.23 103.34-58.02l86.74 86.74c-44.32 56.2-112.97 92.31-190.09 92.31z",fill:"#00598e"})),_.bigFeature=(0,e.createElement)("svg",{className:"custom-icon custom-icon-bigfeature",enableBackground:"new 0 0 20 20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("path",{d:"m18.58 0h-17.16c-.78 0-1.42.64-1.42 1.42v17.15c0 .79.64 1.43 1.42 1.43h17.15c.79 0 1.42-.64 1.42-1.42v-17.16c.01-.78-.63-1.42-1.41-1.42zm-9.38 17.77c0 .43-.35.78-.78.78h-6.19c-.43 0-.78-.35-.78-.78v-6.19c0-.43.35-.78.78-.78h6.19c.43 0 .78.35.78.78zm9.35 0c0 .43-.35.78-.78.78h-6.19c-.43 0-.78-.35-.78-.78v-6.19c0-.43.35-.78.78-.78h6.19c.43 0 .78.35.78.78zm0-9.47c0 .43-.35.78-.78.78h-15.54c-.43 0-.78-.35-.78-.78v-6.07c0-.43.35-.78.78-.78h15.54c.43 0 .78.35.78.78z",fill:"#00588d"}));var M=_,W=wp.blocks.registerBlockType,V=wp.blockEditor,j=V.InnerBlocks,D=V.useBlockProps,G=V.useInnerBlocksProps;W("cumulus-gutenberg/big-feature",{apiVersion:2,title:"Big Feature",description:"Large Panel of featured content in a grid",keywords:["feature","panel","hero"],category:"cmls",icon:M.bigFeature,supports:{html:!1,anchor:!0,align:!0,alignWide:!0,customClassName:!1},attributes:{},edit:function(t){var r=D({className:"g-big-feature"}),l=G({},{template:[["cumulus-gutenberg/big-feature-column"],["cumulus-gutenberg/big-feature-column"],["cumulus-gutenberg/big-feature-column"]],templateLock:"insert"});return(0,e.createElement)("section",r,l.children)},save:function(t){var r=D.save({className:"g-big-feature"});return(0,e.createElement)("section",r,(0,e.createElement)(j.Content,null))}}),wp.blocks.updateCategory("cmls",{icon:M.cumulus})}();